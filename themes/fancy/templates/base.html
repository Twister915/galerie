<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#0a0a0a">
    <title>{% block title %}{{ site.title }}{% endblock title %}</title>

    <!-- Preconnect to CDNs -->
    <link rel="preconnect" href="https://unpkg.com">
    <link rel="preconnect" href="https://tile.openstreetmap.org">

    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
          integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
          crossorigin="">

    <!-- Theme CSS -->
    <link rel="stylesheet" href="{{ static(path='style.css') }}">

    {% block head %}{% endblock head %}
</head>
<body>
    {% block body %}{% endblock body %}

    <!-- Masonry.js -->
    <script src="https://unpkg.com/masonry-layout@4.2.2/dist/masonry.pkgd.min.js"></script>

    <!-- imagesLoaded for Masonry -->
    <script src="https://unpkg.com/imagesloaded@5.0.0/imagesloaded.pkgd.min.js"></script>

    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
            integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
            crossorigin=""></script>

    <!-- Data URLs for async loading -->
    <script>
    var I18N_URLS = {{ data_urls.i18n | json_encode() | safe }};
    var GALLERY_URL = "{{ data_urls.gallery }}";
    var I18N_CONFIG = {
        languages: {{ languages | json_encode() | safe }},
        default: "{{ default_lang }}"
    };
    </script>

    <!-- Theme JS (ES Module) -->
    <script type="module" src="{{ static(path='app.js') }}"></script>

    {% block scripts %}{% endblock scripts %}
</body>
</html>
